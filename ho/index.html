<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta content='img.jpg' property='og:image'/>  
<title>YouTube Music Project</title>

<style>
html, body {

  font-family: Arial, sans-serif;
  background: #f8f9fb;
}

/* ÏÉÅÎã® Î©îÎâ¥ */
.nav {
  display: flex;
  justify-content: center;
  gap: 10px;
  padding: 15px 0;
  background: #ffffff;
  border-bottom: 1px solid #ddd;
}

.nav a {
  text-decoration: none;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  color: #444;
  background: #f1f1f1;
  transition: 0.2s;
}

.nav a.active {
  background: #4a7cff;
  color: #fff;
}

/* ÌîåÎ†àÏù¥Ïñ¥ */
.player-box {
  max-width: 720px;
  width: 100%;
  margin: 20px auto;
}

.player-ratio {
  position: relative;
  width: 100%;
  padding-top: 56.25%;
  background: #000;
}

#player {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

/* Î™©Î°ù */
table {
  max-width: 720px;
  width: 100%;
  margin: 10px auto 20px;
  border-collapse: collapse;
  background: #fff;
}

td {
  position: relative;
  padding: 8px 12px 8px 34px;
  border-bottom: 1px solid #eee;
  cursor: pointer;
  line-height: 1.3;
  color: #333;
  font-size: 14px;
}

tr:hover td {
  background: #f5f5f5;
}

tr.active td {
  background: #f4f8ff;
  font-weight: bold;
  border-left: 4px solid #4a7cff;
}

tr.active td::before {
  content: "‚ñ∂";
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: #4a7cff;
  font-size: 13px;
}

/* Ïª®Ìä∏Î°§ */
.controls {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-bottom: 40px;
}

.controls button {
  padding: 8px 14px;
  font-size: 14px;
  cursor: pointer;
  border: 1px solid #bbb;
  background: #fff;
  border-radius: 6px;
}
</style>
</head>

<body>

<div class="nav">
  <a href="old" data-name="old">OLD</a>
  <a href="enka" data-name="enka">ENKA</a>
  <a href="jazz" data-name="jazz">JAZZ</a>
</div>

<div class="player-box">
  <div class="player-ratio">
    <div id="player"></div>
  </div>
</div>

<table id="playlist"></table>

<div class="controls">
  <button id="btnPrev">‚èÆ Ïù¥Ï†Ñ</button>
  <button id="btnPlayPause">‚ñ∂ Ïû¨ÏÉù</button>
  <button id="btnNext">‚è≠ Îã§Ïùå</button>
</div>

<script>
/* ‚≠ê Ïπ¥ÌÖåÍ≥†Î¶¨ ÏûêÎèô Ïù∏Ïãù (Ìè¥ÎçîÌòï ÎåÄÏùë) */
function getCategory() {
  const parts = window.location.pathname.split("/").filter(Boolean);
  return parts[parts.length - 1] || "old";
}

const playlists = {
  old: [
    { title: "üéµ ÎÇú Ï†ïÎßê Î™∞ÎûêÏóàÎÑ§", id: "_Bi1x8uPBJs" },
    { title: "üéµ ÎèåÏïÑÍ∞ÄÎäî ÏÇºÍ∞ÅÏßÄ", id: "-XKJVwg3XXg" }
  ],
  enka: [
    { title: "üéµ Î¶∞ - Ïù∏ÏÉùÏô∏Í∏∏", id: "rfjffhNxdLQ" },
    { title: "üéµ ÈÉΩ„ÅØ„Çã„Åø Ë£èÁî∫„Åî„Åì„Çç", id: "vnHDs5DlAG0" },
    { title: "üéµ Î¶∞ X ÏïÑÏ¶àÎßà ÏïÑÌÇ§", id: "vgPvhr7ZWbw" },
    { title: "üéµ Èõ™‰∏≠Ëä± ‰ºç‰ª£Â§èÂ≠ê", id: "B6WmSUodgRQ" }
  ],
  jazz: [
    { title: "üé∑ Î≤àÏßÄÏóÜÎäî Ï£ºÎßâ", id: "Z9vzsUxvsEg" },
    { title: "üé∑ Í≥†Ìñ•ÏïÑÏ§åÎßà", id: "6wvUMP1ZS7U" }
  ]
};

const category = getCategory();
const currentList = playlists[category] || playlists["old"];

/* Î©îÎâ¥ active ÌëúÏãú */
document.querySelectorAll(".nav a").forEach(a => {
  if (a.dataset.name === category) {
    a.classList.add("active");
  }
});

let playlist = [];
let currentIndex = 0;
const table = document.getElementById("playlist");

currentList.forEach((song, index) => {
  playlist.push(song.id);
  const tr = document.createElement("tr");
  tr.innerHTML = `<td>${song.title}</td>`;
  tr.onclick = () => playByIndex(index);
  table.appendChild(tr);
});

var player;

function onYouTubeIframeAPIReady() {
  player = new YT.Player("player", {
    videoId: playlist[0],
    playerVars: { rel: 0, playsinline: 1 },
    events: { onStateChange }
  });
  setActiveRow(0);
}

function playByIndex(index) {
  currentIndex = index;
  player.loadVideoById(playlist[currentIndex]);
  setActiveRow(index);
}

function playPrev() {
  currentIndex = (currentIndex - 1 + playlist.length) % playlist.length;
  playByIndex(currentIndex);
}

function playNext() {
  currentIndex = (currentIndex + 1) % playlist.length;
  playByIndex(currentIndex);
}

function togglePlayPause() {
  const state = player.getPlayerState();
  if (state === YT.PlayerState.PLAYING) {
    player.pauseVideo();
  } else {
    player.playVideo();
  }
}

function onStateChange(e) {
  if (e.data === YT.PlayerState.ENDED) {
    playNext();
  }
  updatePlayPauseButton();
}

function updatePlayPauseButton() {
  const btn = document.getElementById("btnPlayPause");
  if (!player) return;
  const state = player.getPlayerState();
  btn.textContent = state === YT.PlayerState.PLAYING ? "‚è∏ ÏùºÏãúÏ†ïÏßÄ" : "‚ñ∂ Ïû¨ÏÉù";
}

function setActiveRow(index) {
  document.querySelectorAll("#playlist tr").forEach((tr, i) => {
    tr.classList.toggle("active", i === index);
  });
}

document.getElementById("btnPrev").addEventListener("click", playPrev);
document.getElementById("btnNext").addEventListener("click", playNext);
document.getElementById("btnPlayPause").addEventListener("click", togglePlayPause);
</script>

<script src="https://www.youtube.com/iframe_api"></script>

</body>
</html>
